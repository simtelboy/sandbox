# 注册信息生成器 - 独立工具 v1.1

## 项目简介

这是一个从 `manual_registration_automation.py` 中抽取的独立注册信息生成和管理工具。该工具提供了完整的GUI界面，可以独立运行，不依赖浏览器自动化环境。

## 🔧 v1.1 更新内容

- **修复路径问题**：解决了EXE打包后文件保存到临时目录的问题
- **智能路径选择**：程序会自动选择最合适的可写路径
- **优先级设置**：优先使用 `C:/sandbox_files/` 目录，确保文件保存位置一致
- **兼容性改进**：无论是直接运行Python脚本还是EXE文件，都使用相同的文件路径

## 功能特性

### 🎯 核心功能
- **随机信息生成**：生成邮箱、用户名、密码、姓名等注册信息
- **邮件验证码接收**：支持AWS、GitHub、Google等多平台验证码获取
- **账号信息管理**：自动保存到账号.txt文件
- **OAuth文件管理**：从~\.aws\sso\cache\目录复制并重命名OAuth文件

### 🎨 界面特性
- **右侧控制面板**：不遮挡主要工作区域
- **点击复制功能**：点击任意信息行即可复制到剪贴板
- **3D交互效果**：悬停、按下、释放的视觉反馈
- **状态提示**：实时显示操作状态和结果

### 📁 文件结构

```
sandbox_files/
├── registration_info_generator.py  # 主程序文件
├── build_exe.py                   # Python打包脚本
├── build_final.bat               # Windows批处理打包脚本
├── test_generator.py             # 功能测试脚本
├── name.txt                      # 姓名列表文件
├── .env                         # 环境配置文件
├── email_service.py             # 邮件服务模块（可选）
└── README_独立工具.md           # 本说明文件
```

## 安装和使用

### 方法1：直接运行Python脚本

```bash
# 进入项目目录
cd sandbox_files

# 运行主程序
python registration_info_generator.py

# 或运行测试脚本验证功能
python test_generator.py
```

### 方法2：打包成EXE文件

#### 使用Python脚本打包：
```bash
python build_exe.py
```

#### 使用批处理脚本打包（Windows）：
```cmd
build_final.bat
```

打包完成后，在 `dist/` 目录中会生成：
- `注册信息生成器.exe` - 可执行文件
- `使用说明.txt` - 使用说明
- 相关配置文件

## 配置文件说明

### 1. name.txt
存储姓名列表，每行一个姓名：
```
John Smith
Jane Doe
Mike Johnson
...
```

### 2. .env
环境配置文件：
```
EMAIL_DOMAIN=kt167.cc
SMS_WEBSITE=https://sms-activate.org/
```

### 3. email_service.py（可选）
邮件服务模块，如果存在则程序会使用该模块接收验证码。

## 📁 文件保存路径说明

程序会智能选择文件保存路径，优先级如下：

### 账号信息文件 (账号.txt)
1. `C:/sandbox_files/账号.txt` （优先）
2. `当前工作目录/账号.txt`
3. `程序所在目录/账号.txt`
4. `相对路径/账号.txt`

### OAuth文件目录
1. `C:/sandbox_files/OAuth/` （优先）
2. `当前工作目录/OAuth/`
3. `程序所在目录/OAuth/`
4. `相对路径/OAuth/`

**注意**：程序会自动测试每个路径的可写性，选择第一个可用的路径。这确保了无论是直接运行Python脚本还是EXE文件，都能正确保存文件到预期位置。

## 使用流程

1. **启动程序**
   - 双击EXE文件或运行Python脚本
   - 程序会在屏幕右侧显示控制面板

2. **生成注册信息**
   - 程序启动时自动生成一套信息
   - 点击"🎲 生成新的注册信息"按钮生成新信息

3. **复制信息**
   - 点击任意信息行复制到剪贴板
   - 支持邮箱、用户名、密码、姓名等字段

4. **获取验证码**
   - 点击"📧 收验证码"按钮
   - 支持多平台验证码自动识别
   - 验证码会自动复制到剪贴板

5. **确认注册成功**
   - 复制密码和任意其他字段后，确认按钮会启用
   - 点击"✅ 确认注册成功"保存账号信息

## 输出文件

### 账号.txt
保存的账号信息，格式：
```
邮箱		密码	平台	注册时间
john_smith@kt167.cc		Abc123!@#	github	2024-11-06 14:30:25
```

### OAuth目录
复制的OAuth文件，命名格式：
```
原文件名__邮箱__平台__时间戳.json
```

## 技术特性

### 依赖管理
- **最小依赖**：仅依赖Python标准库和tkinter
- **Fallback机制**：pyperclip不可用时使用tkinter剪贴板
- **路径兼容**：支持多种配置文件路径

### 错误处理
- **完整异常处理**：所有操作都有try-catch保护
- **用户友好提示**：错误信息清晰易懂
- **优雅降级**：关键功能失败时提供替代方案

### 跨平台支持
- **Windows**：完全支持，包括EXE打包
- **Linux/macOS**：Python脚本可直接运行

## 开发说明

### 从源码抽取的功能
本工具从 `manual_registration_automation.py` 中抽取了以下核心功能：

1. **RegistrationControlPanel类**：完整的GUI控制面板
2. **邮件验证码接收**：多平台验证码获取逻辑
3. **账号管理功能**：保存到账号.txt和OAuth文件管理
4. **配置文件读取**：name.txt和.env文件支持

### 移除的功能
- **浏览器自动化**：移除了所有Selenium相关代码
- **硬件指纹**：移除了浏览器指纹伪装功能
- **WebDriver管理**：移除了EdgeDriver相关代码

### 优化改进
- **独立运行**：不依赖浏览器环境
- **简化依赖**：减少了外部依赖包
- **错误处理**：增强了异常处理和用户提示
- **打包支持**：添加了完整的EXE打包方案

## 故障排除

### 常见问题

1. **程序无法启动**
   - 检查Python环境是否正确安装
   - 确保tkinter模块可用

2. **验证码获取失败**
   - 检查网络连接
   - 确认.env文件配置正确
   - 验证email_service.py模块是否存在

3. **文件保存失败**
   - 检查程序运行目录的写入权限
   - 确认OAuth源目录是否存在

4. **中文显示问题**
   - 确保系统支持UTF-8编码
   - 在Windows上可能需要设置代码页

### 调试模式
运行时会在控制台输出详细日志，可用于问题诊断。

## 版本历史

- **v1.0** (2024-11-06)
  - 初始版本
  - 完整GUI界面
  - 多平台验证码支持
  - 账号信息管理
  - EXE打包支持

## 许可证

本项目基于原始项目的许可证条款。

## 技术支持

如有问题或建议，请参考：
1. 本README文档
2. 程序运行时的控制台输出
3. 使用说明.txt文件

---

**Done.**